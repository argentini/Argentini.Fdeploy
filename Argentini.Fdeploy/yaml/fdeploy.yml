# Fdeploy Reference Configuration
# ===============================
# Configuration files must be named `fdeploy.yml` or  `fdeploy-{name}.yml` so fdeploy can call a configuration by its name
# (e.g. fdeploy production). You should create files for each deployment target.

# Delete destination files and folders that are not in the source; default is true
DeleteOrphans: true

# Overwrite the existing root web.config file if it exists; default is true
OverwriteWebConfig: true

# Writes an AppOffline.html file to the server to take it offline for the deployment; default is true
TakeServerOffline: true

# Seconds to wait after taking the server offline; default is 10
ServerOfflineDelaySeconds: 10

# Seconds to wait after a failed write; default is 10
WriteRetryDelaySeconds: 10

# Number of attempts to write before giving up; default is 10
RetryCount: 10

ServerConnection:
    
    ServerAddress: 127.0.0.1
    ShareName: D$
    Domain: domain
    UserName: username
    Password: password
    ConnectTimeoutMs: 5000
    ResponseTimeoutMs: 15000

Offline:
    
    MetaTitle: "Unavailable for Maintenance"
    PageTitle: "Unavailable for Maintenance"
    PageHtml: "<p>The website is being updated and should be available shortly.</p><p><strong>Check back soon!</strong></p>"

Project:

    # Project file (.csproj) path and filename, relative to the location of this file
    ProjectFilePath: UmbracoCms.csproj

    # .NET version to target; default is 8.0
    TargetFramework: 8.0

    # Environment name; default is "Production"
    EnvironmentName: Production

    # Configuration; default is "Release"
    BuildConfiguration: Release

Paths:

    # Remote UNC path to the root of the website
    RemoteRootPath: \web\website.com\www

    # Copy specific files into the published build folder; paths are relative to the root path
    CopyFilesToPublishFolder:

        - "umbraco/Data/Umbraco.sqlite.db"

    # Copy specific folders into the published build folder; paths are relative to the root path
    CopyFoldersToPublishFolder:

        - "umbraco/Data/TEMP"
        - "test"
        - "wwwroot/media"

    # Paths to folders that can be copied while the server is running;
    # folders are copied before the server is taken offline which shortens server downtime;
    SafeCopyFolderPaths:

        - "wwwroot"

    # Paths to files that can be copied while the server is running;
    # files are copied before the server is taken offline which shortens server downtime;
    SafeCopyFilePaths:

        - "test/backup.sqlite.db"

    # Ignore the following relative file paths
    IgnoreFilePaths:

        - "web.config"

    # Ignore the following relative folder paths
    IgnoreFolderPaths:

        - "wwwroot/umbraco"

    # Ignore all files with the following names
    IgnoreFilesNamed:

        - ".DS_Store"
        - "thumbs.db"

    # Ignore all folders with the following names
    IgnoreFoldersNamed:

        - "Log"
        - "Logs"
