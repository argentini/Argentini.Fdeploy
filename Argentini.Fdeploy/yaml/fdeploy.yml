# Fdeploy Reference Configuration
# ===============================
# Configuration files must be named `fdeploy.yml` or  `fdeploy-{name}.yml` so fdeploy can call a configuration by its name
# (e.g. fdeploy production). You should create files for each deployment target.

# Delete destination files and folders that are not in the source; default is true
DeleteOrphans: true

# Overwrite the existing root web.config file if it exists; default is true
OverwriteWebConfig: true

# Writes an app_offline.htm file to the server to take it offline for the deployment; default is true
TakeServerOffline: true

# Seconds to wait after taking the server offline; default is 10
ServerOfflineDelaySeconds: 10

# Seconds to wait after a failed write; default is 10
WriteRetryDelaySeconds: 10

ServerConnection:
    
    ServerAddress: 127.0.0.1
    ShareName: D$
    Domain: domain
    UserName: username
    Password: password
    ConnectTimeoutMs: 5000
    ResponseTimeoutMs: 15000

Offline:
    
    MetaTitle: "Unavailable for Maintenance"
    PageTitle: "Unavailable for Maintenance"
    PageHtml: "<p>The website is being updated and should be available shortly.</p><p><strong>Check back soon!</strong></p>"

Project:

    # Project file (.csproj) path and filename, relative to the location of this file
    ProjectFilePath: UmbracoCms.csproj

    # .NET version to target; default is 8.0
    TargetFramework: 8.0

    # Environment name; default is "Production"
    EnvironmentName: Production

    # Configuration; default is "Release"
    BuildConfiguration: Release

Paths:

    # Remote UNC path to the root of the website
    RemoteRootPath: \web\fynydd.staging.fynydd.com\www

    # Paths to static files that can be copied while the server is running
    # Static files are copied before the server is taken offline to minimize down time;
    StaticFilePaths:

        - "wwwroot"

    # One-off file copies; paths are relative to the root paths
    # Static files are copied before the server is taken offline to minimize down time;
    StaticFileCopies:

        - Source: "/UmbracoCms/wwwroot/images/logo.jpg"
          Destination: "/wwwroot/images/logo.jpg"

    # Ignore the following relative folder paths
    RelativeIgnorePaths:

        - "umbraco"
        - "wwwroot/media"
        - "wwwroot/umbraco"

    # Ignore the following relative file paths
    RelativeIgnoreFilePaths:

        - "web.config"

    # Ignore all folders with the following names
    IgnoreFoldersNamed:

        - "log"

    # Ignore all files with the following names
    IgnoreFilesNamed:

        - ".DS_Store"

    # One-off file copies; paths are relative to the root paths
    FileCopies:

        - Source: "/UmbracoCms/umbraco/Data/umbraco.sqlite.db"
          Destination: "/umbraco/Data/umbraco.sqlite.db"
